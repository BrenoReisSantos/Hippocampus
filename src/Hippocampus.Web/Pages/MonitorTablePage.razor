@page "/MonitorsTable"
@inject IDialogService DialogService

<PageTitle>Tabela de Recipientes</PageTitle>

<MudIconButton
    OnClick="OpenRecipientCreateDialog"
    Icon="@Icons.Material.Filled.Add"
    Color="Color.Primary"
    Variant="Variant.Filled"
    Class="rounded-circle">
</MudIconButton>
<MudSpacer/>
<RecipientMonitorsTable @ref="RecipientMonitorsTableRef"/>

@code {
    RecipientMonitorsTable? RecipientMonitorsTableRef { get; set; }

    async Task OpenRecipientCreateDialog()
    {
        var dialog = DialogService.Show<MonitorCreationDialog>();

        var dialogResult = await dialog.Result;

        if (!dialogResult.Canceled)
            RecipientMonitorsTableRef?.UpdateTable();
    }

}